<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.college.yi.EcSite.admin.repository.ProductImageMapper">
  <select id="findByProductIds" resultType="com.college.yi.EcSite.entity.ProductImage" parameterType="list">
    SELECT * FROM product_images
    WHERE product_id IN
    <foreach item="id" collection="list" open="(" separator="," close=")">
      #{id}
    </foreach>
  </select>
  
  <insert id="insert" parameterType="com.college.yi.EcSite.entity.ProductImage" useGeneratedKeys="true" keyProperty="imageId">
  INSERT INTO product_images
    (product_id, image_url, sort_order, is_main, created_at)
  VALUES
    (#{productId}, #{imageUrl}, #{sortOrder}, #{isMain}, NOW())
</insert>


</mapper>
